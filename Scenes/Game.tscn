[gd_scene load_steps=9 format=2]

[ext_resource path="res://Scripts/Scene_Scripts/Game.gd" type="Script" id=1]
[ext_resource path="res://Assets/Tiles/MapTiles.tres" type="TileSet" id=2]
[ext_resource path="res://Scripts/Prefab_Scripts/Map.gd" type="Script" id=3]
[ext_resource path="res://Assets/shader/new_shadermaterial.tres" type="Material" id=4]
[ext_resource path="res://Assets/Tiles/default_tile.png" type="Texture" id=5]
[ext_resource path="res://Assets/Prefabs/ItemMapEntity.tscn" type="PackedScene" id=6]
[ext_resource path="res://Assets/Prefabs/CharacterMapEntity.tscn" type="PackedScene" id=7]
[ext_resource path="res://Scenes/overlay.tscn" type="PackedScene" id=8]

[node name="Game" type="Node2D"]
script = ExtResource( 1 )

[node name="Map" type="Node" parent="."]

[node name="Navigation" type="Navigation2D" parent="Map"]

[node name="Map" type="TileMap" parent="Map/Navigation"]
mode = 1
tile_set = ExtResource( 2 )
cell_size = Vector2( 128, 64 )
cell_y_sort = true
format = 1
tile_data = PoolIntArray( -327678, 3, 0, -327677, 3, 0, -327676, 3, 0, -327675, 1, 0, -327674, 1, 0, -327673, 1, 0, -327672, 1, 0, -327671, 1, 0, -327670, 1, 0, -327669, 4, 0, -327668, 4, 0, -327667, 4, 0, -327666, 4, 0, -262142, 3, 0, -262141, 3, 0, -262140, 3, 0, -262139, 1, 0, -262138, 2, 0, -262137, 2, 0, -262136, 2, 0, -262135, 3, 0, -262134, 1, 0, -262133, 4, 0, -262132, 4, 0, -262131, 4, 0, -262130, 4, 0, -196606, 3, 0, -196605, 3, 0, -196604, 5, 0, -196603, 1, 0, -196602, 3, 0, -196601, 3, 0, -196600, 3, 0, -196599, 3, 0, -196598, 1, 0, -196597, 4, 0, -196596, 4, 0, -196595, 4, 0, -196594, 4, 0, -131070, 5, 0, -131069, 5, 0, -131068, 5, 0, -131067, 1, 0, -131066, 3, 0, -131065, 3, 0, -131064, 1, 0, -131063, 1, 0, -131062, 1, 0, -131061, 4, 0, -131060, 4, 0, -131059, 4, 0, -131058, 4, 0, -65534, 5, 0, -65533, 5, 0, -65532, 5, 0, -65531, 1, 0, -65530, 3, 0, -65529, 3, 0, -65528, 1, 0, -65527, 3, 0, -65526, 3, 0, -65525, 4, 0, -65524, 4, 0, -65523, 4, 0, -65522, 4, 0, 2, 5, 0, 3, 5, 0, 4, 5, 0, 5, 1, 0, 6, 3, 0, 7, 1, 0, 8, 1, 0, 9, 3, 0, 10, 3, 0, 11, 4, 0, 12, 4, 0, 13, 4, 0, 14, 4, 0, 65538, 3, 0, 65539, 5, 0, 65540, 3, 0, 65541, 3, 0, 65542, 3, 0, 65543, 3, 0, 65544, 3, 0, 65545, 3, 0, 65546, 3, 0, 65547, 4, 0, 65548, 4, 0, 65549, 4, 0, 65550, 4, 0, 131074, 3, 0, 131075, 3, 0, 131076, 3, 0, 131077, 3, 0, 131078, 3, 0, 131079, 3, 0, 131080, 3, 0, 131081, 3, 0, 131082, 4, 0, 131083, 4, 0, 131084, 4, 0, 131085, 4, 0, 131086, 4, 0, 196610, 3, 0, 196611, 3, 0, 196612, 3, 0, 196613, 3, 0, 196614, 3, 0, 196615, 3, 0, 196616, 3, 0, 196617, 3, 0, 196618, 4, 0, 196619, 4, 0, 196620, 4, 0, 196621, 4, 0, 196622, 4, 0, 262146, 3, 0, 262147, 3, 0, 262148, 3, 0, 262149, 3, 0, 262150, 3, 0, 262151, 3, 0, 262152, 3, 0, 262153, 4, 0, 262154, 4, 0, 262155, 4, 0, 262156, 4, 0, 262157, 4, 0, 262158, 4, 0, 327682, 3, 0, 327683, 3, 0, 327684, 3, 0, 327685, 3, 0, 327686, 3, 0, 327687, 3, 0, 327688, 4, 0, 327689, 4, 0, 327690, 4, 0, 327691, 4, 0, 327692, 4, 0, 327693, 4, 0, 327694, 4, 0 )
script = ExtResource( 3 )

[node name="YSort" type="YSort" parent="Map/Navigation"]

[node name="build_tool" type="Node2D" parent="Map/Navigation/YSort"]
visible = false

[node name="Sprite" type="Sprite" parent="Map/Navigation/YSort/build_tool"]
material = ExtResource( 4 )
texture = ExtResource( 5 )

[node name="Entities" type="Node" parent="Map/Navigation/YSort"]

[node name="MapEntity" parent="Map/Navigation/YSort/Entities" instance=ExtResource( 6 )]
position = Vector2( 50, 250 )
resourceType = 2

[node name="Characters" type="Node" parent="Map/Navigation/YSort"]

[node name="MapEntity" parent="Map/Navigation/YSort/Characters" instance=ExtResource( 7 )]
position = Vector2( 250.459, 163.29 )

[node name="MapEntity2" parent="Map/Navigation/YSort/Characters" instance=ExtResource( 7 )]
position = Vector2( 381.827, 427.254 )

[node name="Camera2D" type="Camera2D" parent="."]
offset = Vector2( 512, 300 )
current = true
drag_margin_h_enabled = false
drag_margin_v_enabled = false

[node name="CanvasLayer" type="CanvasLayer" parent="Camera2D"]

[node name="overlay" parent="Camera2D/CanvasLayer" instance=ExtResource( 8 )]
mouse_filter = 2

[connection signal="build" from="Camera2D/CanvasLayer/overlay" to="." method="_on_overlay_build"]
